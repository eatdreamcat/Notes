# 老照片效果实现

## 效果展示



![image-20240325155425169](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325155425169.png)

## 效果分解

### 暗角效果



![image-20240325155131187](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325155131187.png)

![image-20240325151828977](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325151828977.png)





### 白平衡



![image-20240325155208773](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325155208773.png)

![image-20240325151958950](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325151958950.png)

### 电影颗粒感



![image-20240325155322181](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325155322181.png)

![image-20240325152124192](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325152124192.png)



## 前置知识

### 颜色空间的定义

（英语：Color space）是对[色彩](https://zh.wikipedia.org/wiki/色彩)的组织方式。



#### RGB



通过将红色、绿色和蓝色映射到三维笛卡尔坐标系来创建 RGB [颜色空间](https://learn.microsoft.com/zh-cn/windows/win32/wcs/c) 。

![最大值处的 rgb 颜色空间多维数据集](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/rgbclrs1.png)

![rgb 颜色空间立方体最小值](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/rgbclrs2.png)

与大多数 [颜色空间](https://learn.microsoft.com/zh-cn/windows/win32/wcs/c)一样，RGB 颜色空间已规范化。 也就是说，所有颜色值都限制在零到 1（含 1）的范围内。 因此，黑色是 (0.0、0.0、0.0) ，白色是 (1.0、1.0、1.0) 。

在 RGB 颜色空间中， [主要颜色](https://learn.microsoft.com/zh-cn/windows/win32/wcs/p) 为红色、绿色和蓝色。 辅助颜色为青色、黄色和洋红色。



在RGB空间中，通过声明颜色分量r，g，b来指定颜色，取值均范围为[0-1]。



#### HSV / HSB



色调、饱和度和值 (HSV) [颜色空间](https://learn.microsoft.com/zh-cn/windows/win32/wcs/c) 通常由艺术家使用。 “Hue”是我们通常认为的颜色。 它是一种颜色的属性，通过该属性为其命名，例如“红色”或“蓝色”。 “Value”是“明度”的另一个词，它是颜色的属性，它看起来相当于黑色和白色之间的某种灰色阴影。 饱和度是衡量颜色与相同 [明度](https://learn.microsoft.com/zh-cn/windows/win32/wcs/b)的灰色不同程度。 零饱和度表示没有色调，只是灰度。 HSV 颜色空间已规范化。

![hsv 颜色空间](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/hsvline.png)

HSV可以理解为从RGB白色的点往黑色的点看过去。

可以看到正好有六个端点，颜色依次是：红，洋红，蓝，青，绿，黄。

![image-20240325175557904](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325175557904.png)



HSV 空间中的颜色是通过声明色调角度、色度级别和亮度级别来指定的。 色调角度为零为红色。 色调角度逆时针方向增加。 补色相距 180。

红色：0°，洋红：60°，蓝：120°，青：180°，绿：240°，黄：300°

<img src="https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325180626082.png" alt="image-20240325180626082" style="zoom:50%;" />

H取值范围[0, 360]，

SV均为[0, 1]。



#### HSL



<img src="https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240325181136561.png" alt="image-20240325181136561" style="zoom:50%;" />



#### YCbCr



#### CMY







#### YUV





#### LMS





#### CIE Lab





#### CIE XYZ







### 颜色空间的转换



#### RGB vs HSV



##### RGB to HSV



##### HSV to RGB





## HDRP分析







