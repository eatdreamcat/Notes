# 反射模型

本章节定义了一组用于描述光在表面散射行为的类。在4.3.1中我们介绍了双向反射分布函数（BRDF）用于描述光在表面的反射，以及双向透射分布函数（BTDF）来描述光在表面的透射，和双向散射分布函数（BSDF）为前两者的综合体同时描述了两种行为。在这一个章节中，我们会开始给这些表面的反射和透射定义一些抽象的接口。



表面的反射模型来源于一下的一些源数据：

- 测量数据：来自于实验室测量的真实世界表面的反射分布属性。这些数据可能以表的形式被用于直接计算或者被计算成一组基函数的系数。

- 现象学模型：现象学模型主要是依据观察和实验数据进行拟合。通过一些等式来尝试描述现实世界中表面的一些属性。这些类型的BSDF可以很容易的去使用，因为它们通常有比较直观的参数来控制他们的行为。（比如粗糙度）
- 模拟：有时候，我们对于一些复合表面的低层次信息是已知的。比如油漆是由某种尺寸均匀的有色粒子悬浮在介质中，或者某种纺织物是由已知的两种不同反射属性的线料交织构成。对于这种情况，预处理可以模拟光在这种微观结构的行为从而更加近似BSDF。或者也可以实时模拟。
- 物理（波）光学：一些反射模型是使用详细的光波模型推导出来的，它将其视为波并计算麦克斯韦方程组的解，来找出在已知属性的表面的散射方式。这些主要用于包含微米级几何细节的场景，如薄膜，图层以及一些周期性的结构如DVD。
- 几何光学：与模拟类似，如果表面的低层次的散射和几何特性已知，有时可以直接从这些描述推导出封闭的散射模型。几何光学让表面光照建模更加容易处理因为一些复杂的波动效应例如衍射可以被忽略。



## 基础术语

根据反射表面的视觉表现，可以把反射类型分为四类：漫反射（diffuse），光滑镜面反射（glossy specular），完美镜面反射（perfect specular），逆反射（retroreflective）。几乎大部分的真实表面表现出这四种类型反射的混合。

![image-20240807221333669](https://raw.githubusercontent.com/eatdreamcat/PicGo-01/main/image-20240807221333669.png)

给定一种特定的反射类型，反射率分布函数可以是各项异性的或者各项同性的。



对于每一种反射模型，其需要输入入射光方向$\omega{i}$和观察方向$\omega{o}$以及表面属性，返回的是出射光的方向分布。



上图展示的就是不同反射类型的分布形状。



## BSDF





